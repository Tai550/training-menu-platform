# トレーニングメニュー作成掲示板 サービス仕様書

**バージョン:** 1.0  
**作成日:** 2025年10月17日  
**作成者:** Manus AI

---

## 1. サービス概要

トレーニングメニュー作成掲示板は、トレーニングに関する悩みや目標を持つ一般顧客と、認定されたパーソナルトレーナーをつなぐQ&A形式のプラットフォームである。Yahoo!知恵袋のようなシンプルなインターフェースを採用し、誰でも気軽に質問を投稿でき、複数のトレーナーから専門的なトレーニングメニューの提案を受けることができる。

### 1.1 サービスの目的

本サービスは以下の目的を達成するために設計されている。

**一般顧客にとっての価値**は、自分の課題や目標に合わせたトレーニングメニューを専門家から提案してもらえることである。複数のトレーナーから異なる視点の提案を受け取ることで、自分に最適なトレーニング方法を選択できる。また、過去の相談事例を閲覧することで、似た悩みを持つ他のユーザーの解決策を参考にすることも可能である。

**トレーナーにとっての価値**は、実際のクライアントの悩みに対してメニューを作成することで、実践的なスキルを磨くトレーニングの場となることである。また、過去の提案がケーススタディとして蓄積されることで、自身のポートフォリオとしても活用できる。さらに、プロフィールページを通じて自己PRを行い、新規顧客の獲得につなげることも期待される。

### 1.2 ターゲットユーザー

本サービスのターゲットユーザーは以下の通りである。

| ユーザータイプ | 特徴 | 主な利用目的 |
|---|---|---|
| 一般顧客 | トレーニング初心者、ジムに通えない忙しい社会人、特定の悩みを持つ方 | 自分に合ったトレーニングメニューの提案を受ける |
| パーソナルトレーナー | 駆け出しのトレーナー、実践経験を積みたいトレーナー、顧客獲得を目指すトレーナー | メニュー作成の練習、ケーススタディの蓄積、顧客獲得 |

---

## 2. システム構成

### 2.1 技術スタック

本サービスは以下の技術スタックで構築されている。

| レイヤー | 技術 | 説明 |
|---|---|---|
| フロントエンド | React 19, Tailwind CSS 4, shadcn/ui | モダンなUIコンポーネントとレスポンシブデザイン |
| バックエンド | Express 4, tRPC 11 | 型安全なAPI通信 |
| データベース | MySQL (TiDB) | リレーショナルデータベース |
| ORM | Drizzle ORM | TypeScript-firstのORM |
| 認証 | Manus OAuth | OAuth 2.0ベースの認証システム |
| ストレージ | S3互換ストレージ | プロフィール写真などのファイル保存 |
| デプロイ | Manus Platform | フルマネージドホスティング |

### 2.2 データベース設計

本サービスのデータベースは以下の主要テーブルで構成されている。

#### 2.2.1 usersテーブル

ユーザーの基本情報を管理するテーブルである。

| カラム名 | 型 | 説明 |
|---|---|---|
| id | VARCHAR(64) | ユーザーID（主キー） |
| name | TEXT | ユーザー名 |
| email | VARCHAR(320) | メールアドレス |
| loginMethod | VARCHAR(64) | ログイン方法 |
| role | ENUM('user', 'admin') | ロール（一般ユーザー/管理者） |
| userType | ENUM('customer', 'trainer') | ユーザータイプ（顧客/トレーナー） |
| isApprovedTrainer | BOOLEAN | トレーナー承認フラグ |
| createdAt | TIMESTAMP | 作成日時 |
| lastSignedIn | TIMESTAMP | 最終ログイン日時 |

#### 2.2.2 consultationsテーブル

相談投稿を管理するテーブルである。

| カラム名 | 型 | 説明 |
|---|---|---|
| id | VARCHAR(64) | 相談ID（主キー） |
| userId | VARCHAR(64) | 投稿者ID（外部キー） |
| title | TEXT | タイトル |
| content | TEXT | 相談内容 |
| category | VARCHAR(100) | カテゴリ |
| goals | TEXT | 目標 |
| currentLevel | TEXT | 現在のレベル |
| tags | TEXT | タグ（JSON） |
| status | ENUM('open', 'answered', 'closed') | ステータス |
| isClosed | BOOLEAN | クローズ済みフラグ |
| bestAnswerId | VARCHAR(64) | ベストアンサーID |
| amount | INT | 課金額 |
| createdAt | TIMESTAMP | 作成日時 |

#### 2.2.3 proposalsテーブル

トレーニングメニュー提案を管理するテーブルである。

| カラム名 | 型 | 説明 |
|---|---|---|
| id | VARCHAR(64) | 提案ID（主キー） |
| consultationId | VARCHAR(64) | 相談ID（外部キー） |
| trainerId | VARCHAR(64) | トレーナーID（外部キー） |
| title | TEXT | 提案タイトル |
| content | TEXT | 提案内容 |
| duration | VARCHAR(100) | 期間 |
| frequency | VARCHAR(100) | 頻度 |
| program | TEXT | トレーニングプログラム（JSON） |
| isBestAnswer | BOOLEAN | ベストアンサーフラグ |
| createdAt | TIMESTAMP | 作成日時 |

#### 2.2.4 trainerProfilesテーブル

トレーナープロフィール情報を管理するテーブルである。

| カラム名 | 型 | 説明 |
|---|---|---|
| id | VARCHAR(64) | プロフィールID（主キー） |
| userId | VARCHAR(64) | ユーザーID（外部キー） |
| photoUrl | TEXT | プロフィール写真URL |
| bio | TEXT | 自己紹介 |
| specialties | TEXT | 専門分野（JSON） |
| certifications | TEXT | 資格（JSON） |
| yearsOfExperience | INT | 経験年数 |
| twitterUrl | TEXT | TwitterのURL |
| instagramUrl | TEXT | InstagramのURL |
| facebookUrl | TEXT | FacebookのURL |
| youtubeUrl | TEXT | YouTubeのURL |
| websiteUrl | TEXT | 公式サイトのURL |
| isVerified | BOOLEAN | 認証済みフラグ |
| createdAt | TIMESTAMP | 作成日時 |

---

## 3. 主要機能

### 3.1 ユーザー管理機能

#### 3.1.1 認証・ログイン

本サービスはManus OAuthを使用した認証システムを採用している。ユーザーはメールアドレスやソーシャルアカウントを使用してログインできる。初回ログイン時に自動的にユーザーアカウントが作成され、以降はシームレスにログインできる。

#### 3.1.2 ユーザータイプの管理

ユーザーは「一般顧客」または「トレーナー」のいずれかのタイプに分類される。デフォルトでは「一般顧客」として登録され、トレーナープロフィールを作成する際に「トレーナー」に変更できる。管理者は管理画面からユーザータイプを変更することも可能である。

#### 3.1.3 トレーナー承認フロー

トレーナーとして活動するには、管理者による承認が必要である。トレーナープロフィールを作成したユーザーは、管理画面で管理者が承認するまで相談への回答ができない。承認後、トレーナーは「認定トレーナー」バッジが表示され、相談への回答が可能になる。

### 3.2 相談投稿機能

#### 3.2.1 相談の作成

一般顧客は、トレーニングに関する悩みや目標を相談として投稿できる。相談には以下の情報を含めることができる。

- **タイトル**: 相談の概要を簡潔に表現する
- **相談内容**: 詳細な悩みや状況の説明
- **カテゴリ**: 相談の分類（例: ダイエット、筋力増強、リハビリなど）
- **目標**: 達成したい目標
- **現在のレベル**: 現在のトレーニング経験や体力レベル
- **タグ**: 検索やフィルタリングに使用するキーワード

#### 3.2.2 相談の閲覧

すべてのユーザーは、投稿された相談を自由に閲覧できる。相談一覧ページでは、最新の相談が表示され、タイトル、カテゴリ、回答数、投稿日時などが確認できる。相談詳細ページでは、相談内容の全文と、トレーナーからの提案が表示される。

#### 3.2.3 ベストアンサーの選択

相談を投稿したユーザーは、受け取った提案の中から最も役に立ったものを「ベストアンサー」として選択できる。ベストアンサーに選ばれた提案には特別なバッジが表示され、他のユーザーにも参考になる提案として強調される。

### 3.3 トレーニングメニュー提案機能

#### 3.3.1 提案の作成

承認されたトレーナーは、相談に対してトレーニングメニューを提案できる。提案には以下の情報を含めることができる。

- **提案タイトル**: 提案の概要
- **提案内容**: トレーニングメニューの説明や注意点
- **期間**: トレーニングプログラムの推奨期間
- **頻度**: 週何回のトレーニングを推奨するか
- **トレーニングプログラム**: 日ごとの詳細なエクササイズ内容

トレーニングプログラムは、日ごとに以下の情報を設定できる。

- **日**: トレーニングの日（例: 1日目、2日目）
- **エクササイズ**: 各エクササイズの名前、セット数、回数、時間、注意事項

#### 3.3.2 提案の編集

トレーナーは、自分が作成した提案を後から編集できる。ただし、1つの相談に対して1トレーナー1提案までという制限があり、新たに提案を追加することはできない。既存の提案を改善したい場合は、編集機能を使用する。

#### 3.3.3 提案の表示

相談詳細ページでは、すべての提案が一覧表示される。各提案には、トレーナーのプロフィール写真と名前が表示され、タップするとトレーナーの詳細プロフィールページに遷移できる。ベストアンサーに選ばれた提案は、特別なバッジとボーダーで強調表示される。

### 3.4 トレーナープロフィール機能

#### 3.4.1 プロフィールの作成・編集

トレーナーは、自分のプロフィールページを作成・編集できる。プロフィールには以下の情報を登録できる。

- **プロフィール写真**: トレーナーの顔写真
- **自己紹介**: 経歴や指導方針などの説明
- **専門分野**: 得意とするトレーニング分野（例: ダイエット、筋力増強、リハビリなど）
- **保有資格**: 取得している資格や認定
- **経験年数**: トレーナーとしての経験年数
- **SNSリンク**: Twitter、Instagram、Facebook、YouTube、公式サイトなどのURL

#### 3.4.2 プロフィールの公開

トレーナーのプロフィールは、すべてのユーザーに公開される。相談への回答に表示されるトレーナー名や写真をタップすることで、詳細なプロフィールページに遷移できる。プロフィールページでは、トレーナーの専門性や経験を確認し、SNSリンクから外部の情報にもアクセスできる。

### 3.5 管理機能

#### 3.5.1 ユーザー管理

管理者は、すべてのユーザーを一覧表示し、以下の操作を実行できる。

- **ユーザータイプの変更**: 一般顧客とトレーナーの切り替え
- **トレーナーの承認**: トレーナーとして活動できるように承認
- **トレーナー承認の取り消し**: 不適切な活動があった場合に承認を取り消す

#### 3.5.2 相談管理

管理者は、すべての相談を一覧表示し、各相談の詳細情報と提案されたトレーニングメニューを確認できる。不適切な投稿があった場合は、相談をクローズすることも可能である。

---

## 4. ユーザーフロー

### 4.1 一般顧客のフロー

一般顧客が本サービスを利用する際の典型的なフローは以下の通りである。

1. **ホームページにアクセス**: サービスの概要を確認し、過去の相談事例を閲覧する
2. **ログイン**: Manus OAuthを使用してログインする
3. **相談を投稿**: トレーニングに関する悩みや目標を相談として投稿する
4. **提案を受け取る**: 複数のトレーナーから提案を受け取る
5. **トレーナープロフィールを確認**: 提案したトレーナーのプロフィールを確認し、専門性や経験を評価する
6. **ベストアンサーを選択**: 最も役に立った提案をベストアンサーとして選択する

### 4.2 トレーナーのフロー

トレーナーが本サービスを利用する際の典型的なフローは以下の通りである。

1. **ホームページにアクセス**: サービスの概要を確認し、相談事例を閲覧する
2. **ログイン**: Manus OAuthを使用してログインする
3. **トレーナープロフィールを作成**: プロフィール写真、自己紹介、専門分野、資格などを登録する
4. **管理者の承認を待つ**: 管理者がトレーナーとして承認するまで待機する
5. **相談を閲覧**: 承認後、相談一覧から回答したい相談を探す
6. **トレーニングメニューを提案**: 相談に対して詳細なトレーニングメニューを作成し、提案する
7. **提案を編集**: 必要に応じて、既存の提案を編集して改善する

### 4.3 管理者のフロー

管理者が本サービスを管理する際の典型的なフローは以下の通りである。

1. **管理画面にアクセス**: ヘッダーのメニューから管理画面を開く
2. **トレーナー申請を確認**: トレーナープロフィールを作成したユーザーを確認する
3. **トレーナーを承認**: 資格や経験を確認し、適切なトレーナーを承認する
4. **相談を監視**: すべての相談と提案を確認し、不適切な投稿がないかチェックする
5. **必要に応じて対処**: 不適切な投稿があった場合は、相談をクローズしたり、トレーナー承認を取り消したりする

---

## 5. デザインとUI/UX

### 5.1 デザインコンセプト

本サービスのデザインは、Yahoo!知恵袋のようなシンプルで親しみやすいインターフェースを目指している。ダークブルー（#1e3a5f）をプライマリカラーとし、信頼感とプロフェッショナルな印象を与える配色を採用している。

### 5.2 レスポンシブデザイン

本サービスは、スマートフォン、タブレット、デスクトップなど、あらゆるデバイスで快適に利用できるレスポンシブデザインを採用している。特にスマートフォンでの利用を重視し、タップ操作やスクロールがスムーズに行えるよう最適化されている。

### 5.3 主要画面

#### 5.3.1 ホームページ

ホームページには、サービスの概要、検索バー、最新の相談一覧が表示される。ユーザーは、検索バーでキーワードを入力して相談を検索したり、「質問してみる」ボタンから新しい相談を投稿したりできる。

#### 5.3.2 相談一覧ページ

相談一覧ページには、すべての相談がカード形式で表示される。各カードには、タイトル、カテゴリ、相談内容の抜粋、回答数、投稿日時が表示され、タップすると相談詳細ページに遷移する。

#### 5.3.3 相談詳細ページ

相談詳細ページには、相談内容の全文と、トレーナーからの提案が表示される。各提案には、トレーナーのプロフィール写真と名前、提案タイトル、提案内容、トレーニングプログラムの詳細が含まれる。相談を投稿したユーザーは、ベストアンサーを選択できる。

#### 5.3.4 トレーナープロフィールページ

トレーナープロフィールページには、トレーナーのプロフィール写真、自己紹介、専門分野、保有資格、経験年数、SNSリンクが表示される。ユーザーは、トレーナーの専門性や経験を確認し、外部のSNSアカウントにもアクセスできる。

#### 5.3.5 管理画面

管理画面には、ユーザー一覧と相談一覧が表示される。管理者は、ユーザータイプの変更、トレーナーの承認・取り消し、相談の詳細確認などの操作を実行できる。

---

## 6. セキュリティとプライバシー

### 6.1 認証とアクセス制御

本サービスは、Manus OAuthを使用した安全な認証システムを採用している。ユーザーのパスワードは暗号化され、セキュアに管理される。また、トレーナーとして活動するには管理者の承認が必要であり、不適切なユーザーが活動することを防止している。

### 6.2 データの保護

ユーザーの個人情報は、適切に暗号化され、安全に保存される。データベースへのアクセスは、認証されたユーザーのみに制限され、不正なアクセスを防止している。

### 6.3 プライバシーポリシー

本サービスは、ユーザーのプライバシーを尊重し、個人情報の取り扱いについて明確なプライバシーポリシーを提供する。ユーザーは、自分の情報がどのように使用されるかを理解した上で、サービスを利用できる。

---

## 7. 今後の拡張計画

### 7.1 課金機能の実装

現在、課金機能は参考価格として表示されているが、将来的には実際の決済機能を実装する予定である。一般顧客が相談を投稿する際に課金し、ベストアンサーに選ばれたトレーナーに報酬が支払われる仕組みを構築する。

### 7.2 通知機能の強化

新しい相談が投稿されたときや、自分の相談に提案があったときに、ユーザーに通知を送る機能を実装する。これにより、ユーザーはタイムリーに情報を受け取ることができる。

### 7.3 検索・フィルタリング機能の強化

カテゴリやタグによる検索・フィルタリング機能を強化し、ユーザーが自分に関連する相談を簡単に見つけられるようにする。また、トレーナーの専門分野に合った相談を優先的に表示する機能も検討している。

### 7.4 レビュー・評価機能

トレーナーの提案に対して、一般顧客が評価やレビューを投稿できる機能を追加する。これにより、トレーナーの質を可視化し、ユーザーがより信頼できるトレーナーを選べるようになる。

---

## 8. まとめ

トレーニングメニュー作成掲示板は、トレーニングに関する悩みを持つ一般顧客と、実践的なスキルを磨きたいパーソナルトレーナーをつなぐプラットフォームである。シンプルで使いやすいインターフェース、厳格なトレーナー承認フロー、詳細なトレーニングプログラム作成機能により、双方にとって価値のあるサービスを提供している。今後も、課金機能や通知機能などの拡張を通じて、さらに便利で信頼性の高いプラットフォームへと進化していく予定である。

